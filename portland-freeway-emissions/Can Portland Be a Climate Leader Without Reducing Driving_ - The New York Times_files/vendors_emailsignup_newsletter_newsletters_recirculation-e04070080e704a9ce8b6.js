(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"2ePO":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA"));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return Array.isArray(e)&&(null==e?void 0:e.reduce((function(e,t){var n=t.productCode,r=t.isFreeTrial,i=t.freeTrialSignupTime;return o(o({},e),{},(0,a.default)({},n,{isFreeTrial:r,freeTrialSignupTime:i}))}),{}))||{}};t.default=l},"2tVM":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.formatSrc=void 0;var a=r(n("J4zp"));t.formatSrc=function(e){var t=e.params,n=e.host,r=e.productCode,i=new URL(t.redirect_uri),o=r;i.searchParams.append("product_code",o);var l=t.client_id||"unknown-client",s=t.asset,u=t.display,c=void 0===u?"default":u,d=t.campaign_id,f=t.application,p={response_type:"cookie",redirect_uri:i.toString(),client_id:l,display:c,asset:s,campaign_id:d,application:f},m=new URL("".concat(n,"/auth/validate-regi"));return Object.entries(p).filter((function(e){return(0,a.default)(e,2)[1]})).forEach((function(e){var t=(0,a.default)(e,2),n=t[0],r=t[1];return m.searchParams.append(n,r)})),m.toString()}},"4LjT":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.userQuery=t.userGraphql=t.subscribeQuery=t.subscribeGraphql=t.subscribeAnonymousQuery=t.subscribeAnonymousGraphql=void 0;var a=r(n("lSNA"));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l="\n  query UserQuery {\n    user {\n      __typename\n      profile {\n        displayName\n        email\n      }\n      newsletterSubscriptions {\n        newsletters {\n          productCode\n          isFreeTrial\n          freeTrialSignupTime\n        }\n      }\n      userInfo {\n        regiId\n        entitlements\n      }\n    }\n  }";t.userGraphql=l;var s="\n  mutation subToNewsletters($input: CreateNoCaptchaNewsletterSubscriptionInput!) {\n    createNoCaptchaNewsletterSubscription(input: $input) {\n      message\n    }\n  }\n";t.subscribeGraphql=s;var u="\n  mutation CreateNewsletterSubscriptionInput($newsletterInput: CreateNewsletterSubscriptionInput!) {\n    createNewsletterSubscription(input: $newsletterInput) {\n      clientMutationId\n      userErrors\n      __typename\n    }\n  }\n";t.subscribeAnonymousGraphql=u;var c=JSON.stringify({operationName:"UserQuery",variables:{},query:l});t.userQuery=c;t.subscribeQuery=function(e,t){if(null==e||!e.productCode)throw new Error("Missing product code");return JSON.stringify({operationName:"subToNewsletters",variables:{input:o({newsletters:[e]},t||{})},query:s})};t.subscribeAnonymousQuery=function(e,t){if(null==e||!e.productCode)throw new Error("Missing product code");var n=null!=t&&t.signupFormVersion?"".concat(t.signupFormVersion):"newsletter_updates_v1",r=o(o({clientMutationId:"0"},t),{},{signupFormVersion:n});return JSON.stringify({operationName:"CreateNewsletterSubscriptionInput",variables:{newsletterInput:o({newsletters:[e]},r)},query:u})}},"4sK8":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),o=r(n("17x9")),l=n("pLua"),s=n("5E+G"),u=r(n("n2O/")),c=r(n("v6H6")),d=r(n("vAq/")),f=r(n("WkTM")),p=r(n("XjL+")),m=n("T25G");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}o.default.shape,o.default.string,o.default.bool,o.default.func;var g=function(e){var t=e.state,n=e.handlers,r=t.isOpen,a=t.view,o=t.isLoading,v=t.validProductCode,g=n.handleLoggedInButtonClick,y=n.handleNewsletterSignup,b=n.handleAnonymousNewsletterSignup,h=n.handleClose,w=n.handleModalButtonClick,E=(0,l.useEmailSignupContext)(),C=E.allowedEntitlement,O=E.isOnsiteFreeTrialEnabled,S=E.isEligibleForNewsletter,T=E.hasTakenFreeTrial,N=E.showConfirmationMessage,_=E.showAlreadySubscribedMessage,P=E.shouldReturnFocus,I=(0,m.getButtonText)({page:"individual",allowedEntitlement:C,isOnsiteFreeTrialEnabled:O,isEligibleForNewsletter:S,hasTakenFreeTrial:T}),k=(0,i.useRef)();(0,i.useEffect)((function(){k.current=a}));var x=k.current,M=i.default.createElement(p.default,{validProductCode:v,isOpen:r,handleClose:h,handleNewsletterSignup:y,handleAnonymousNewsletterSignup:b,buttonText:I,buttonClick:w});switch(a){case s.VIEW_NAMES.ALREADY_SIGNED_UP:return _?i.default.createElement(d.default,null):i.default.createElement("div",null);case s.VIEW_NAMES.CONFIRMATION:return x===s.VIEW_NAMES.LOGGED_OUT_MODAL&&!N&&P?M:N?i.default.createElement(c.default,null):i.default.createElement("div",null);case s.VIEW_NAMES.LOGGED_IN_SIGNUP:return i.default.createElement(u.default,{buttonText:I,buttonClick:g,isLoading:o});case s.VIEW_NAMES.LOGGED_OUT_INLINE:return i.default.createElement(f.default,{validProductCode:v,handleNewsletterSignup:y,handleAnonymousNewsletterSignup:b,buttonText:I});case s.VIEW_NAMES.LOGGED_OUT_MODAL:return M;default:return i.default.createElement("div",null)}};t.default=g},"5E+G":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_NAMES=t.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT=t.SIGNUP_TYPE=t.SIGNUP_FADE_MS=t.MODULE_TYPES=t.IN_ARTICLE_CTA_TEXT=t.IN_ARTICLE_CONFIRMATION_MSG=t.IN_ARTICLE_CONFIRMATION_CTA_TEXT=t.INDIVIDUAL_SIGNUP_CTA_TEXT=t.INDIVIDUAL_SIGNUP_CONFIRMATION_MSG=t.FREE_TRIAL_PERIOD_IN_SECS=void 0;var a,i,o,l,s=r(n("lSNA"));t.VIEW_NAMES={LOGGED_OUT_MODAL:"loggedOutModal",LOGGED_OUT_INLINE:"loggedOut",ALREADY_SIGNED_UP:"alreadySubscribed",LOGGED_IN_SIGNUP:"loggedIn",CONFIRMATION:"confirmation"};t.MODULE_TYPES={INLINE:"inline",MODAL:"modal",OAK_ARTICLE:"oakArticle"};var u={DEFAULT:"DEFAULT",SUBSCRIBER:"SUBSCRIBER",FREE_TRIAL:"FREE_TRIAL",NEED_SUBSCRIPTION:"NEED_SUBSCRIPTION"};t.SIGNUP_TYPE=u;var c=(a={},(0,s.default)(a,u.DEFAULT,"Get it sent to your inbox."),(0,s.default)(a,u.SUBSCRIBER,"Get it in your inbox."),(0,s.default)(a,u.NEED_SUBSCRIPTION,"Get it with a Times subscription."),a);t.IN_ARTICLE_CTA_TEXT=c;var d=(i={},(0,s.default)(i,u.DEFAULT,"Sign Up"),(0,s.default)(i,u.SUBSCRIBER,"Sign Up"),(0,s.default)(i,u.FREE_TRIAL,"Try it for 4 weeks"),(0,s.default)(i,u.NEED_SUBSCRIPTION,"Get it with a Times Subscription"),i);t.INDIVIDUAL_SIGNUP_CTA_TEXT=d;t.IN_ARTICLE_CONFIRMATION_MSG={DEFAULT:"Thank you for signing up. We have other newsletters you may enjoy."};var f=(o={},(0,s.default)(o,u.DEFAULT,"Thank you for signing up."),(0,s.default)(o,u.SUBSCRIBER,"Thank you for signing up."),(0,s.default)(o,u.FREE_TRIAL,"Thank you for signing up for 4 week complimentary access."),o);t.INDIVIDUAL_SIGNUP_CONFIRMATION_MSG=f;var p=(l={},(0,s.default)(l,u.DEFAULT,"Take a look."),(0,s.default)(l,u.SUBSCRIBER,"Explore more newsletters."),(0,s.default)(l,u.FREE_TRIAL,"Explore more subscriber-only newsletters."),l);t.IN_ARTICLE_CONFIRMATION_CTA_TEXT=p;t.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT="https://www.nytimes.com/subscription?st=sonewsletters";t.FREE_TRIAL_PERIOD_IN_SECS=2419200;t.SIGNUP_FADE_MS=750},"5ugd":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lwsE")),o=r(n("W8MJ")),l=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),c=h(n("q1tI")),d=r(n("17x9")),f=n("Jqp9"),p=r(n("9rZX")),m=r(n("wXC7")),v=r(n("aanX")),g=h(n("sj7d")),y=n("w6U+");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}d.default.func,d.default.node,d.default.string,d.default.shape,d.default.bool;var E=function(e){(0,l.default)(n,e);var t=w(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).targetElement=null,e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){p.default.setAppElement("body"),this.targetElement=document.querySelector("#sharedui-modal")}},{key:"componentWillUnmount",value:function(){(0,y.clearAllBodyScrollLocks)()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isOpen;e.isOpen!==t&&(t?(0,y.disableBodyScroll)(this.targetElement):(0,y.enableBodyScroll)(this.targetElement))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isOpen,r=e.handleClose,a=e.onAfterOpen,i=e.overlayClassName,o=e.className,l=e.dismissClassName,s=e.contentLabel,u=e.role,d=e.shouldFocusAfterRender,y=e.shouldCloseOnOverlayClick,b=e.shouldCloseOnEsc,h=e.shouldReturnFocusAfterClose,w=e.aria,E=e.overlayRef,C=e.contentRef,O=e.closeIconStroke;return c.default.createElement(p.default,{id:"sharedui-modal",isOpen:n,overlayClassName:(0,f.cx)(g.overlayClass,i),className:(0,f.cx)(g.modalClass,o),bodyOpenClassName:g.bodyOpenClass,onAfterOpen:a,onRequestClose:r,contentLabel:s,role:u,shouldFocusAfterRender:d,shouldCloseOnOverlayClick:y,shouldCloseOnEsc:b,shouldReturnFocusAfterClose:h,aria:w,overlayRef:E,contentRef:C,ariaHideApp:!0},t,c.default.createElement("button",{type:"button",className:(0,f.cx)(g.dismissClass,l),onClick:r},c.default.createElement("i",{className:g.dismissIconClass},c.default.createElement(v.default,{stroke:O}),c.default.createElement("span",{className:m.default.a11y.visuallyHidden},"Close Modal"))))}}]),n}(c.Component);E.displayName="Modal",E.defaultProps={onAfterOpen:function(){},overlayClassName:void 0,className:void 0,dismissClassName:void 0,contentLabel:"",role:"dialog",shouldFocusAfterRender:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,shouldReturnFocusAfterClose:!0,aria:{},overlayRef:function(){},contentRef:function(){},closeIconStroke:"#555"};var C=E;t.default=C},AJay:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SignupView=void 0;var i=r(n("lSNA")),o=r(n("pVnL")),l=r(n("J4zp")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),u=r(n("17x9")),c=n("Jqp9"),d=n("5E+G"),f=r(n("J8sp")),p=r(n("Rpmi")),m=n("aY7P"),v=r(n("WWjY"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}u.default.shape,u.default.string,u.default.bool,u.default.func;var y=v.default.DefaultLayout,b=function(e){var t=e.view,n=e.contentLayoutProps,r=e.shouldDisplayView,a=e.handleLoggedInClick,u=e.handleModalButtonClick,v=(0,s.useState)(!1),g=(0,l.default)(v,2),b=g[0],h=g[1];if(!r)return null;if(!b){var w=t===d.VIEW_NAMES.LOGGED_IN_SIGNUP?a:u;return s.default.createElement(f.default,{exitDuration:0,visible:t===d.VIEW_NAMES.LOGGED_OUT_INLINE||t===d.VIEW_NAMES.LOGGED_IN_SIGNUP,onExited:function(){h(!0)}},(function(e){var t=e.exiting;return s.default.createElement(y,(0,o.default)({},n,{exiting:t,clickEvent:w}))}))}return s.default.createElement(f.default,{enterDuration:0,visible:t===d.VIEW_NAMES.CONFIRMATION&&b},(function(e){var t=e.entering;return s.default.createElement("div",{className:(0,c.cx)(m.signupContentContainerClass,(0,i.default)({},m.fadeInActiveClass,t))},s.default.createElement(p.default,null))}))};t.SignupView=b,b.displayName="SignupView";var h=b;t.default=h},CQ4Z:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u((0,o.subscribeQuery)(e,t))},t.subscribeAnonymous=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u((0,o.subscribeAnonymousQuery)(e,t))},t.user=function(){return u(o.userQuery)};var a=r(n("lSNA")),i=n("T25G"),o=n("4LjT");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){var t=function(){if("undefined"!=typeof window&&window.__preloadedData){var e,t=window.__preloadedData.config,n=(null===(e=window)||void 0===e?void 0:e.location).hostname;return s(s({},t),{},{hostname:n})}return{}}(),n=t.gqlUrlClient,r=t.gqlRequestHeaders,a=t.hostname;return"undefined"!=typeof fetch&&n&&r?fetch(n,{method:"POST",credentials:"include",mode:(0,i.isNYTDomain)(a)?"cors":"no-cors",headers:r,body:e}).then((function(e){var t=e.ok;return"opaque"===e.type?e:t?e.json():Promise.reject(new Error(e.statusText))})):Promise.resolve({})}},J8sp:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),i=r(n("lwsE")),o=r(n("W8MJ")),l=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),c=r(n("q1tI"));r(n("17x9"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=p(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={exiting:!1,exited:!1,entered:!1,entering:!1},e.finishEnter=function(){e.setState({entered:!0,entering:!1}),"function"==typeof e.props.onEntered&&e.props.onEntered()},e.handleEnter=function(){var t=e.props.enterDuration;e.enterTimer&&clearTimeout(e.enterTimer),e.enterTimer=setTimeout(e.finishEnter,t)},e.finishExit=function(){e.setState({exited:!0,exiting:!1,entered:!1}),"function"==typeof e.props.onExited&&e.props.onExited()},e.handleExit=function(){var t=e.props.exitDuration;setTimeout(e.finishExit,t)},e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.props.visible&&this.handleEnter()}},{key:"componentDidUpdate",value:function(e){!e.visible&&this.props.visible&&this.handleEnter(),e.visible&&!this.props.visible&&this.handleExit()}},{key:"render",value:function(){var e=this.state,t=e.exited,n=e.exiting,r=this.props.visible;return t||!r&&!n?null:this.props.children(this.state)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.visible||!t.entering&&!t.entered?e.visible&&!t.entered?f(f({},t),{},{entering:!0,exiting:!1,exited:!1}):t:f(f({},t),{},{exiting:!0})}}]),n}(c.default.PureComponent);m.defaultProps={onExited:null,onEntered:null,exitDuration:500,enterDuration:500},m.displayName="Transition";var v=m;t.default=v},KgTy:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.overlayClass=t.modalClass=t.dismissClass=void 0;var a=n("Jqp9"),i=r(n("wXC7")),o=(0,a.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",i.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=o;var l=(0,a.css)("text-align:center;position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:unset;padding:32px 20px 40px;box-shadow:none;border-radius:0;background-color:",i.default.color.white,";font-family:",i.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",i.default.color.black,";z-index:",i.default.zIndex.interstitialModal,";",i.default.breakpoint.small,"{width:450px;left:50%;top:50%;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;padding:32px 30px 40px 30px;}");t.modalClass=l;var s=(0,a.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",i.default.color.white,";");t.dismissClass=s;var u=(0,a.css)("display:block;font-family:",i.default.font.serifMedium,";font-size:",i.default.font.size(24),";line-height:26px;text-align:center;color:",i.default.color.black,";font-style:normal;margin-bottom:10px;padding:0 16px;");t.summaryClass=u},MPbc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inlineButtonLinkClass=t.buttonSpanClass=void 0;var r=n("Jqp9"),a=(0,r.css)("text-decoration:underline;color:#4279a3;");t.buttonSpanClass=a;var i=(0,r.css)("display:contents;border:none;background:none;");t.inlineButtonLinkClass=i},MlQP:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("o0o1")),o=r(n("yXPU")),l=r(n("lSNA")),s=r(n("J4zp")),u=T(n("q1tI")),c=(r(n("17x9")),n("Jqp9")),d=r(n("aqT/")),f=n("pLua"),p=n("CQ4Z"),m=n("whae"),v=n("T25G"),g=n("sTKe"),y=n("rLXl"),b=r(n("2ePO")),h=r(n("4sK8")),w=r(n("fmmm")),E=n("aY7P"),C=n("5E+G"),O=T(n("qQ7Q"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t,n=e.name,r=e.productCode,a=e.allowedEntitlement,S=e.isOnsiteFreeTrialEnabled,T=e.heading,N=e.summary,P=e.alreadySubscribedMessage,I=e.env,k=e.type,x=e.disableUserQuery,M=e.enableAutoSubscribe,A=e.lireProps.params,j=A.client_id,R=A.campaign_id,L=e.headingClassName,D=e.summaryClassName,F=e.confirmationClassName,U=e.buttonClassName,G=e.loadingSpinnerClassName,q=e.modalProps,W=e.showConfirmationMessage,B=e.showAlreadySubscribedMessage,V=e.shouldReturnFocus,z=e.altLoginComponent,Y=e.isFreeTrial,J=e.freeTrialSignupTime,H=e.subscriptionQueryOptions,Q=e.hasEligibleEntitlement,X=e.subscriptionPageLink,K=e.disableBaseTracking,Z=e.trackingProps,$=e.onClick,ee=e.onLoading,te=e.onIsSignedUp,ne=e.onIsNotSignedUp,re=e.onSuccess,ae=e.containerClassName,ie=(0,u.useState)(!1),oe=(0,s.default)(ie,2),le=oe[0],se=oe[1],ue=(0,u.useMemo)((function(){return(0,v.isValidNewsletterCode)(r)}),[r]),ce=(0,u.useState)(void 0),de=(0,s.default)(ce,2),fe=de[0],pe=de[1],me=(0,u.useState)(void 0),ve=(0,s.default)(me,2),ge=ve[0],ye=ve[1],be=(0,u.useState)(!1),he=(0,s.default)(be,2),we=he[0],Ee=he[1],Ce=(0,u.useState)(!1),Oe=(0,s.default)(Ce,2),Se=Oe[0],Te=Oe[1],Ne=(0,u.useRef)(null),_e=(0,u.useRef)({isFreeTrial:!1,freeTrialSignupTime:0}),Pe=(0,u.useRef)((0,y.checkHasTakenFreeTrial)(null==ge?void 0:ge.newsletterSubscriptions,r)),Ie=(0,u.useRef)((0,y.isEligibleForNewsletter)({hasEligibleEntitlement:Q,allowedEntitlement:a,user:ge})),ke=_(_({},e.lireProps),Ie.current?{}:{type:"login"}),xe=(0,u.useCallback)((function(e){var t=(0,v.hasNYTSCookie)()?C.VIEW_NAMES.LOGGED_IN_SIGNUP:(0,g.getLoggedOutView)(e);pe(t)}),[]),Me=(0,u.useCallback)((function(e){var t=e.data,n=(0,g.getViewFromUser)({data:t,productCode:e.productCode,allowedEntitlement:e.allowedEntitlement,onIsSignedUp:e.onIsSignedUp,onIsNotSignedUp:e.onIsNotSignedUp,type:e.type});pe(n)}),[]),Ae=(0,u.useCallback)((function(e){var t;ye(null==e?void 0:e.user),Ie.current=(0,y.isEligibleForNewsletter)({hasEligibleEntitlement:Q,allowedEntitlement:a,user:null==e?void 0:e.user}),Pe.current=(0,y.checkHasTakenFreeTrial)(null==e||null===(t=e.user)||void 0===t?void 0:t.newsletterSubscriptions,r)}),[a,Q,r]),je=(0,u.useCallback)((function(e){var t,n,i=null==e||null===(t=e.user)||void 0===t||null===(n=t.userInfo)||void 0===n?void 0:n.entitlements,o=(0,y.isFreeTrialSignup)(a,S,i);if(o){var l,s,u=(0,b.default)(null==e||null===(l=e.user)||void 0===l||null===(s=l.newsletterSubscriptions)||void 0===s?void 0:s.newsletters),c=null!=u&&u[r]?u[r].freeTrialSignupTime:0,d=(0,y.getFreeTrialSubscriptionParams)(o,Pe.current,c);_e.current={isFreeTrial:Y||d.isFreeTrial,freeTrialSignupTime:J||d.freeTrialSignupTime}}}),[a,J,Y,S,r]),Re=(0,u.useCallback)((0,o.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.prev=1,e.next=4,(0,p.user)();case 4:n=e.sent,t=n.data,Me({data:t,productCode:r,allowedEntitlement:a,onIsSignedUp:te,onIsNotSignedUp:ne,type:k}),Ae(t),je(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),(0,v.warnOnError)(e.t0);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[1,11]])}))),[a,ne,te,r,je,k,Ae,Me]),Le=(0,u.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Y||_e.current.isFreeTrial;return _(_(_({},H),Ie.current||t?{}:{confirm:!1}),e)}),[Y,H]),De=(0,u.useCallback)((function(){K||(0,m.trackSubscribe)({clientId:j,campaignId:R,productCode:r,placement:Z.placement,algos:Z.algos})}),[R,j,K,r,Z.algos,Z.placement]),Fe=(0,u.useCallback)((function(e){var t=X||C.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT,n=Y||_e.current.isFreeTrial;Ie.current||n?(Ee(!1),pe(C.VIEW_NAMES.CONFIRMATION)):window.location.assign(t),De(),re&&re(e)}),[Y,re,X,De]),Ue=(0,u.useCallback)(function(){var e=(0,o.default)(i.default.mark((function e(t){var n,o,l,s,u,c=arguments;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},e.prev=1,!a){e.next=9;break}return e.next=5,(0,p.user)();case 5:o=e.sent,l=o.data,Ae(l),je(l);case 9:return s={productCode:r},S&&(s.isFreeTrial=Y||_e.current.isFreeTrial,s.freeTrialSignupTime=J||_e.current.freeTrialSignupTime),e.next=13,t(s,Le(n));case 13:u=e.sent,Fe(u),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),(0,v.warnOnError)(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}(),[a,J,Le,Fe,Y,S,r,je,Ae]),Ge=(0,u.useCallback)((function(){return Ee(!1)}),[]),qe=(0,u.useCallback)((function(){Ee(!0),$()}),[$]),We=(0,u.useCallback)((function(){return Ue(p.subscribe)}),[Ue]),Be=(0,u.useCallback)((0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ee(),Te(!0),e.next=5,We();case 5:$(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),(0,v.warnOnError)(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[We,$,ee]),Ve=(0,u.useCallback)((function(e,t){return Ue(p.subscribeAnonymous,{userCaptchaToken:e,userEmail:t})}),[Ue]);(0,u.useEffect)((function(){function e(){return(e=(0,o.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=Ne?Ne.current:null;if((0,y.checkToSubscribeRedirectedUser)(I,t,r,We,Ve),M&&(0,y.handleAutoSubscribe)(r,k,We,qe),!ue)throw(0,m.trackInvalidNewsletterCode)({clientId:j,campaignId:R,productCode:r}),new Error("Invalid Newsletter Product Code",r);x?xe(k):function(){e.apply(this,arguments)}()}),[]),(0,u.useEffect)((function(){le&&!K&&(0,m.trackImpression)(_({clientId:j,campaignId:R,productCode:r},Z))}),[le,R,j,K,r,Z]);var ze=(0,u.useMemo)((function(){return k===C.MODULE_TYPES.OAK_ARTICLE}),[k]),Ye=(0,u.useMemo)((function(){return ze?w.default:h.default}),[ze]),Je=(0,u.useMemo)((function(){return{handleLoggedInButtonClick:Be,handleNewsletterSignup:We,handleAnonymousNewsletterSignup:Ve,handleClose:Ge,handleModalButtonClick:qe}}),[Ve,Ge,Be,qe,We]);return u.default.createElement(d.default,{onChange:function(e){return e&&se(e)},active:!le},u.default.createElement("div",{className:(0,c.cx)((t={},(0,l.default)(t,O.containerClass,!ze),(0,l.default)(t,E.oakContainerClass,ze),t),ae)},u.default.createElement("div",{id:r,ref:Ne}),u.default.createElement(f.EmailSignupProvider,{value:{name:n,productCode:r,allowedEntitlement:a,isOnsiteFreeTrialEnabled:S,isEligibleForNewsletter:Ie.current,hasTakenFreeTrial:Pe.current,heading:T,summary:N,alreadySubscribedMessage:P,env:I,headingClassName:L,summaryClassName:D,confirmationClassName:F,buttonClassName:U,loadingSpinnerClassName:G,modalProps:q,lireProps:ke,showConfirmationMessage:W,showAlreadySubscribedMessage:B,shouldReturnFocus:V,altLoginComponent:z,handleModalButtonClick:qe}},u.default.createElement(Ye,{state:{isOpen:we,view:fe,isLoading:Se,validProductCode:ue},handlers:Je}))))};P.displayName="EmailSignup";var I=P;t.default=I,P.defaultProps={name:"",type:"inline",env:"production",alreadySubscribedMessage:"You are already signed up!",showAlreadySubscribedMessage:!1,showConfirmationMessage:!0,disableUserQuery:!1,enableAutoSubscribe:!1,shouldReturnFocus:!1,heading:null,summary:null,containerClassName:"",headingClassName:"",summaryClassName:"",confirmationClassName:"",buttonClassName:"",loadingSpinnerClassName:"",onLoading:function(){},onIsSignedUp:function(){},onIsNotSignedUp:function(){},onSuccess:function(){},onClick:function(){},modalProps:{closeIconStroke:"#555",headerText:"",headerTextClassName:"",overlayClassName:"",modalClassName:"",dismissClassName:""},lireProps:{host:"",lireClassName:"",onViewChanged:function(){},params:{client_id:"shared-ui",asset:"shared-ui",response_type:"cookie",application:"shared-ui"}},trackingProps:{placement:null,algos:{}},disableBaseTracking:!1,subscriptionQueryOptions:{},allowedEntitlement:null,subscriptionPageLink:C.SUBSCRIPTIONS_SPLASH_PAGE_DEFAULT,isOnsiteFreeTrialEnabled:!1,hasEligibleEntitlement:!1,altLoginComponent:void 0,isFreeTrial:!1,freeTrialSignupTime:0}},Rpmi:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("q1tI")),o=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("aY7P")),s=n("pLua"),u=n("T25G"),c=n("5E+G");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=function(){var e=(0,s.useEmailSignupContext)(),t=e.name,n=e.allowedEntitlement,r=e.isOnsiteFreeTrialEnabled,a=e.isEligibleForNewsletter,d=e.hasTakenFreeTrial,f=e.confirmationClassName,p=(0,u.getConfirmationText)({page:"article",name:t,allowedEntitlement:n,isOnsiteFreeTrialEnabled:r,isEligibleForNewsletter:a,hasTakenFreeTrial:d}),m=(0,u.getSignupType)({allowedEntitlement:n,isOnsiteFreeTrialEnabled:r,isEligibleForNewsletter:a,hasTakenFreeTrial:d}),v=c.IN_ARTICLE_CONFIRMATION_CTA_TEXT[m];return i.default.createElement("span",{className:(0,o.cx)(l.confirmationClass,f),"data-testid":"confirmation"},p," ",i.default.createElement("a",{href:"/newsletters"},v))};f.displayName="Confirmation";var p=f;t.default=p},T25G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkMatchingProductCodes=function(e,t){var n=decodeURIComponent(t.get("product_code"));return!!n&&e===n},t.getConfirmationText=t.getButtonText=void 0,t.getCookie=function(e){var t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?t.pop().split(";").shift():null},t.getSignupType=void 0,t.hasNYTSCookie=function(){return"undefined"!=typeof window&&-1!==document.cookie.indexOf("NYT-S")},t.isNYTDomain=function(e){return/nytimes\.com$/.test(e)},t.warnOnError=t.isValidNewsletterCode=void 0;var r=n("5E+G");t.isValidNewsletterCode=function(e){var t=/^[A-Z]{2,4}$/;return Array.isArray(e)&&e.length>0?e.filter((function(e){return t.test(e)})).length>0:t.test(e)};t.warnOnError=function(e){return console.warn(e.message)};var a=function(e){var t=e.allowedEntitlement,n=e.isOnsiteFreeTrialEnabled,a=e.isEligibleForNewsletter,i=e.hasTakenFreeTrial;return t?a?r.SIGNUP_TYPE.SUBSCRIBER:n&&!i?r.SIGNUP_TYPE.FREE_TRIAL:r.SIGNUP_TYPE.NEED_SUBSCRIPTION:r.SIGNUP_TYPE.DEFAULT};t.getSignupType=a;t.getButtonText=function(e){var t=e.page,n=e.name,i=e.allowedEntitlement,o=e.isOnsiteFreeTrialEnabled,l=e.isEligibleForNewsletter,s=e.hasTakenFreeTrial,u=a({allowedEntitlement:i,isOnsiteFreeTrialEnabled:o,isEligibleForNewsletter:l,hasTakenFreeTrial:s}),c="article"===t?r.IN_ARTICLE_CTA_TEXT:r.INDIVIDUAL_SIGNUP_CTA_TEXT;return u===r.SIGNUP_TYPE.FREE_TRIAL&&n?"Try the ".concat(n," newsletter for 4 weeks."):c[u]};t.getConfirmationText=function(e){var t=e.page,n=e.name,i=e.allowedEntitlement,o=e.isOnsiteFreeTrialEnabled,l=e.isEligibleForNewsletter,s=e.hasTakenFreeTrial,u=a({allowedEntitlement:i,isOnsiteFreeTrialEnabled:o,isEligibleForNewsletter:l,hasTakenFreeTrial:s}),c="article"===t?r.IN_ARTICLE_CONFIRMATION_MSG:r.INDIVIDUAL_SIGNUP_CONFIRMATION_MSG;return u===r.SIGNUP_TYPE.FREE_TRIAL&&n?"You are now signed up for 4 weeks of the ".concat(n," newsletter."):u===r.SIGNUP_TYPE.SUBSCRIBER&&n?"You are now signed up for the ".concat(n," newsletter. Thank you for being a Times subscriber."):c[u]}},TtBt:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("q1tI")),o=r(n("17x9")),l=n("Jqp9"),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("cyD4"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=i.default.memo((function(e){var t=e.loadingSpinnerClassName;return i.default.createElement("svg",{className:(0,l.cx)(s.loadingSpinnerClass,t),xmlns:"http://www.w3.org/2000/svg",alt:"Loading spinner icon",version:"1.1",width:"30px",height:"30px",viewBox:"-50 -50 100 100"},i.default.createElement("g",{stroke:"black",strokeWidth:"3.75",strokeLinecap:"round"},i.default.createElement("line",{x1:0,y1:-14,x2:0,y2:-30,opacity:"1"}),i.default.createElement("line",{x1:-8.229,y1:-11.33,x2:-17.63,y2:-24.27,opacity:"0.87"}),i.default.createElement("line",{x1:-13.31,y1:-4.326,x2:-28.53,y2:-9.271,opacity:"0.74"}),i.default.createElement("line",{x1:-13.31,y1:4.326,x2:-28.53,y2:9.271,opacity:"0.61"}),i.default.createElement("line",{x1:-8.23,y1:11.33,x2:-17.63,y2:24.27,opacity:"0.48"}),i.default.createElement("line",{x1:0,y1:14,x2:0,y2:30,opacity:"0.37"}),i.default.createElement("line",{x1:8.23,y1:11.33,x2:17.63,y2:24.27,opacity:"0.26"}),i.default.createElement("line",{x1:13.31,y1:4.33,x2:28.53,y2:9.27,opacity:"0.17"}),i.default.createElement("line",{x1:13.31,y1:-4.33,x2:28.53,y2:-9.27,opacity:"0.09"}),i.default.createElement("line",{x1:8.23,y1:-11.33,x2:17.63,y2:-24.27,opacity:"0.02"})))}));c.propTypes={loadingSpinnerClassName:o.default.string},c.defaultProps={loadingSpinnerClassName:void 0};var d=c;t.default=d},WWjY:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={DefaultLayout:r(n("irka")).default};t.default=a},WkTM:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),o=(r(n("17x9")),r(n("PxMw"))),l=r(n("dse6")),s=r(n("kcjh")),u=n("pLua"),c=n("tFte"),d=n("T25G");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p={production:"https://myaccount.nytimes.com",staging:"https://myaccount.stg.nytimes.com"},m=function(e){var t=e.validProductCode,n=e.hideHeading,r=e.handleNewsletterSignup,a=e.handleAnonymousNewsletterSignup,f=(0,u.useEmailSignupContext)(),m=f.productCode,v=f.env,g=f.buttonClassName,y=f.buttonText,b=f.lireProps,h=b.host,w=b.lireClassName,E=b.onViewChanged,C=b.params,O=b.type,S=(0,i.useRef)(null),T=(0,i.useRef)(null),N=(0,i.useRef)(null);(0,i.useEffect)((function(){(0,c.loadReCaptchaScript)()}),[]);var _=function(e){a(e,T.current),(0,c.resetReCaptcha)(N.current)},P=function(){console.error("captcha error")},I=function(e){var t=e.props.email;(0,d.hasNYTSCookie)()?r():(T.current=t,function(){try{var e=(0,c.renderReCaptcha)(v,S.current,_,P);(0,c.executeReCaptcha)(e),N.current=e}catch(e){P()}}())};return t?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{id:m,ref:S}),!n&&i.default.createElement(s.default,null),i.default.createElement(l.default,{onSuccess:function(e){return I(e)},onError:function(e){console.error(e)},fallbackButtonText:"Sign Up",onViewChanged:E,env:v,host:h||p[v],params:C,initialHeight:140,className:w,type:O})):i.default.createElement(o.default,{href:"/newsletters",type:"button",theme:"primary",className:g},y)};m.defaultProps={hideHeading:!1};var v=m;t.default=v},"XjL+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),i=r(n("17x9")),o=r(n("PxMw")),l=r(n("tSrK")),s=n("pLua"),u=r(n("kcjh")),c=(i.default.func,i.default.bool,i.default.string,function(e){var t=e.isOpen,n=e.handleClose,r=e.handleNewsletterSignup,i=e.handleAnonymousNewsletterSignup,c=e.buttonClick,d=e.buttonText,f=e.validProductCode,p=(0,s.useEmailSignupContext)(),m=p.buttonClassName,v=p.altLoginComponent;return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.default,null),a.default.createElement(o.default,{type:"button",theme:"primary",className:m,onClick:c},d),v,a.default.createElement(l.default,{validProductCode:f,isOpen:t,handleClose:n,handleNewsletterSignup:r,handleAnonymousNewsletterSignup:i}))});t.default=c},aY7P:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.signupMessageFullWidthClass=t.signupMessageContainerClass=t.signupMessageClass=t.signupContentContainerClass=t.signupContainerClass=t.oakContainerClass=t.headingClass=t.fadeOutVisibleClass=t.fadeOutDoneClass=t.fadeOutActiveClass=t.fadeInClass=t.fadeInActiveClass=t.confirmationClass=void 0;var a=n("Jqp9"),i=r(n("3Rk2")),o=r(n("wXC7")),l=n("5E+G"),s=(0,i.default)(["@media (min-width: 480px)",o.default.breakpoint.small]),u=(0,a.keyframes)("0%{opacity:0;}100%{opacity:1;}"),c="\n  @media (prefers-reduced-motion: reduce) {\n    animation: none;\n    opacity: 1;\n    transform: none;\n  }\n",d=(0,a.css)("text-align:center;font-family:",o.default.font.serifBase,";font-size:",o.default.font.size(17),";line-height:",o.default.font.size(17),";");t.oakContainerClass=d;var f=(0,a.css)("position:relative;display:flex;overflow:hidden;box-sizing:border-box;padding:",o.default.font.size(18)," ",o.default.font.size(20)," ",o.default.font.size(17)," ",o.default.font.size(20),";border:1px solid ",o.default.color.gray60,";color:",o.default.color.gray20,";max-width:600px;margin:",o.default.font.size(21)," auto ",o.default.font.size(24),";","@media (min-width: 480px)","{padding:",o.default.font.size(18)," ",o.default.font.size(20),";}a,button > span{color:",o.default.color.linkColor,";text-decoration:underline;&:hover{text-decoration:none;}}");t.signupContainerClass=f;var p=(0,a.css)("display:flex;flex-grow:1;justify-content:space-between;align-items:flex-start;padding-right:3px;");t.signupContentContainerClass=p;var m=(0,a.css)("display:flex;align-items:center;height:100%;");t.signupMessageContainerClass=m;var v=(0,a.css)("max-width:500px;text-align:left;",s({marginRight:["10px",null,"20px"]}));t.signupMessageClass=v;var g=(0,a.css)("text-align:left;");t.signupMessageFullWidthClass=g;var y=(0,a.css)("display:inline;margin:0;font-size:",o.default.font.size(16),";font-weight:",o.default.font.weight.bold,";font-family:",o.default.font.serifBase,";font-style:normal;line-height:",o.default.font.size(23),";letter-spacing:0.01rem;","@media (min-width: 480px)","{font-size:",o.default.font.size(17),";line-height:",o.default.font.size(25),";}");t.headingClass=y;var b=(0,a.css)("margin:0;font-family:",o.default.font.serifBase,";font-size:",o.default.font.size(16),";line-height:",o.default.font.size(23),";","@media (min-width: 480px)","{font-size:",o.default.font.size(17),";line-height:",o.default.font.size(25),";}");t.summaryClass=b;var h=(0,a.css)("text-align:left;font-family:",o.default.font.serifBase,";font-size:",o.default.font.size(16),";line-height:",o.default.font.size(23),";animation:",u," ",l.SIGNUP_FADE_MS,"ms;",c," ","@media (min-width: 480px)","{font-size:",o.default.font.size(17),";line-height:",o.default.font.size(25),";}");t.confirmationClass=h;var w=(0,a.css)("position:relative;opacity:1;transform:translate3d(0,0,0);");t.fadeOutVisibleClass=w;var E=(0,a.css)("width:100%;opacity:0;transition:opacity ",l.SIGNUP_FADE_MS,"ms;",c);t.fadeOutActiveClass=E;var C=(0,a.css)("opacity:0;display:none;");t.fadeOutDoneClass=C;var O=(0,a.css)("opacity:0;transform:translate3d(100%,0,0);backface-visibility:hidden;");t.fadeInClass=O;var S=(0,a.css)("opacity:1;transition:opacity ",l.SIGNUP_FADE_MS,"ms;",c," backface-visibility:hidden;");t.fadeInActiveClass=S},aanX:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=r(n("q1tI")),i=(r(n("17x9")),r(n("wXC7")));function o(e){var t=e.className,n=e.stroke,r=e.strokeWidth;return a.default.createElement("svg",{className:t,viewBox:"0 0 12 12",stroke:n,strokeWidth:r,strokeLinecap:"round",style:{opacity:.95}},a.default.createElement("line",{x1:"11",y1:"1",x2:"1",y2:"11"}),a.default.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11"}))}o.displayName="CloseIcon",o.defaultProps={className:void 0,stroke:i.default.color.black,strokeWidth:"1"}},bcZ7:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),i=n("Jqp9"),o=(r(n("17x9")),n("aY7P")),l=n("MPbc"),s=n("pLua"),u=function(e){var t=e.clickEvent,n=e.buttonText,r=(0,s.useEmailSignupContext)(),u=r.summary,c=r.summaryClassName;return u?a.default.createElement("span",{className:(0,i.cx)(o.summaryClass,c)},u," ",a.default.createElement("button",{className:l.inlineButtonLinkClass,type:"button",onClick:t},a.default.createElement("span",{className:(0,i.cx)(o.summaryClass,l.buttonSpanClass)},n))):null};u.displayName="SummaryWithInlineCtaLink",u.defaultProps={clickEvent:null,buttonText:null};var c=u;t.default=c},cyD4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.spinner=t.loadingSpinnerClass=void 0;var r=n("Jqp9"),a=(0,r.keyframes)("100%{transform:rotate(360deg);transform-origin:center;}");t.spinner=a;var i=(0,r.css)("margin:0 auto;display:inherit;opacity:1;width:30px;animation:",a," 0.8s steps(10,end) infinite;");t.loadingSpinnerClass=i},dse6:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lSNA")),o=r(n("J4zp")),l=r(n("QILm")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),u=(r(n("17x9")),n("tYBg")),c=r(n("gw4K")),d=n("whae"),f=n("pLua"),p=n("2tVM"),m=["host","env","fallbackButtonText","initialHeight","params"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.host,n=e.env,r=e.fallbackButtonText,a=e.initialHeight,i=e.params,v=(0,l.default)(e,m);window.LireUI=window.LireUI||[];var g=(0,f.useEmailSignupContext)().productCode,b=(0,u.getOrigin)(t,n),h=(0,s.useState)(!1),w=(0,o.default)(h,2),E=w[0],C=w[1],O=(0,s.useState)({}),S=(0,o.default)(O,2),T=S[0],N=S[1],_=function(e){var t=e.clientId,n=e.campaignId;C(!0),(0,d.trackIframeLoadFailure)({clientId:t,campaignId:n})},P=(0,s.useMemo)((function(){return Math.ceil(1e6*Math.random())}),[]),I="newsletter-iframe-container-".concat(P),k="newsletter-form-".concat(P);return(0,s.useEffect)((function(){var e={redirect_uri:window.location.href},t=y(y({},i),e);if(N(t),!window.LireUILoaded){var n={src:"".concat(b,"/unified_lire/js/standalone-client.bundle.js"),scriptLoaded:"LireUILoaded",form_id:k,handleIframeLoadFailure:_,clientId:(null==t?void 0:t.client_id)||null,campaignId:(null==t?void 0:t.campaign_id)||null};(0,u.loadScript)(n)}window.LireUI.push(y({hostName:b,form_id:k,container:"#".concat(I),params:t},v))}),[]),s.default.createElement("div",{id:I,name:"newsletter-iframe",style:{minHeight:a}},E&&s.default.createElement(c.default,{href:(0,p.formatSrc)({host:b,params:T,productCode:g})},r))};b.displayName="ValidateRegistration",b.defaultProps={fallbackButtonText:"Sign up",id:null,className:void 0,params:{client_id:"shared-ui"},type:"validate-regi",env:"production",host:"",initialHeight:420};var h=b;t.default=h},"fk7+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),i=n("Jqp9"),o=n("aY7P"),l=n("pLua"),s=function(){var e=(0,l.useEmailSignupContext)(),t=e.heading,n=e.headingClassName;return t?a.default.createElement("span",{className:(0,i.cx)(o.headingClass,n)},t,"  "):null};s.displayName="Heading";var u=s;t.default=u},fmmm:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lSNA")),o=r(n("J4zp")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),s=r(n("17x9")),u=n("Jqp9"),c=n("pLua"),d=n("T25G"),f=n("5E+G"),p=n("aY7P"),m=n("AJay");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}s.default.shape,s.default.string,s.default.bool,s.default.func;var g=/loggedIn|loggedOut|confirmation/,y=function(e){var t,n=e.state,r=n.isOpen,a=n.validProductCode,s=n.view,v=e.handlers,y=v.handleClose,b=v.handleNewsletterSignup,h=v.handleAnonymousNewsletterSignup,w=v.handleModalButtonClick,E=(0,l.useState)(!1),C=(0,o.default)(E,2),O=C[0],S=C[1],T=(0,c.useEmailSignupContext)(),N=T.name,_=T.allowedEntitlement,P=T.isOnsiteFreeTrialEnabled,I=T.isEligibleForNewsletter,k=T.hasTakenFreeTrial,x=(0,d.getButtonText)({page:"article",name:N,allowedEntitlement:_,isOnsiteFreeTrialEnabled:P,isEligibleForNewsletter:I,hasTakenFreeTrial:k}),M=g.test(s),A={signupContentContainerClass:p.signupContentContainerClass,fadeOutActiveClass:p.fadeOutActiveClass,view:s,validProductCode:a,isOpen:r,buttonText:x,handleClose:y,handleNewsletterSignup:b,handleAnonymousNewsletterSignup:h},j=(0,l.useState)(!1),R=(0,o.default)(j,2),L=R[0],D=R[1],F=(0,l.useState)(!1),U=(0,o.default)(F,2),G=U[0],q=U[1],W=s===f.VIEW_NAMES.LOGGED_OUT_INLINE||s===f.VIEW_NAMES.LOGGED_IN_SIGNUP;return M?l.default.createElement("div",{className:(0,u.cx)(p.signupContainerClass,(t={},(0,i.default)(t,p.fadeOutVisibleClass,W&&!L),(0,i.default)(t,p.fadeOutActiveClass,W&&L&&!G),(0,i.default)(t,p.fadeOutDoneClass,W&&L&&G),t)),onClick:function(e){"button"===e.target.parentNode.tagName.toLowerCase()&&W&&(D(!0),setTimeout((function(){q(!0)}),f.SIGNUP_FADE_MS+100))}},l.default.createElement(m.SignupView,{view:s,shouldDisplayView:M,contentLayoutProps:A,handleLoggedInClick:function(){O||(S(!0),b())},handleModalButtonClick:w})):null};t.default=y},gw4K:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("Jqp9"),i=r(n("wXC7")),o=(0,a.styled)("a",{target:"e1ydmf1w0"})("display:block;background-color:",(function(e){return e.color||"#333"}),";border-radius:3px;text-align:center;font-family:",i.default.font.franklinBase,";font-weight:",i.default.font.weight.bold,";font-size:1em;line-height:2.5em;height:2.5em;color:white;width:8em;margin:0 auto;");t.default=o},irka:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),i=r(n("q1tI")),o=(r(n("17x9")),n("Jqp9")),l=r(n("tSrK")),s=r(n("fk7+")),u=r(n("bcZ7")),c=r(n("r7bS")),d=n("aY7P"),f=n("5E+G"),p=function(e){var t=e.signupContentContainerClass,n=e.fadeOutActiveClass,r=e.exiting,p=e.clickEvent,m=e.buttonText,v=e.view,g=e.validProductCode,y=e.isOpen,b=e.handleClose,h=e.handleNewsletterSignup,w=e.handleAnonymousNewsletterSignup;return i.default.createElement("div",{className:(0,o.cx)(t,(0,a.default)({},n,r))},i.default.createElement(c.default,{signupMessageClassName:d.signupMessageFullWidthClass},i.default.createElement(s.default,null),i.default.createElement(u.default,{clickEvent:p,buttonText:m})),v===f.VIEW_NAMES.LOGGED_OUT_INLINE&&i.default.createElement(l.default,{validProductCode:g,isOpen:y,handleClose:b,handleNewsletterSignup:h,handleAnonymousNewsletterSignup:w}))};p.displayName="SignupInlineLinkLayout",p.defaultProps={signupContentContainerClass:null,fadeOutActiveClass:null,exiting:!1,clickEvent:null,buttonText:null,view:null,validProductCode:!0,isOpen:!1,handleClose:null,handleNewsletterSignup:null,handleAnonymousNewsletterSignup:null};var m=p;t.default=m},kcjh:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("q1tI")),o=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),s=n("pLua");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(){var e=(0,s.useEmailSignupContext)(),t=e.heading,n=e.summary,r=e.headingClassName,a=e.summaryClassName;return i.default.createElement(i.default.Fragment,null,t&&i.default.createElement("span",{className:(0,o.cx)(l.headingClass,r)},t,"  "),n&&i.default.createElement("span",{className:(0,o.cx)(l.summaryClass,a)},n))};t.default=c},"n2O/":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),i=r(n("17x9")),o=r(n("PxMw")),l=r(n("kcjh")),s=r(n("TtBt")),u=n("pLua"),c=(i.default.func,i.default.bool,i.default.string,function(e){var t=e.isLoading,n=e.buttonClick,r=e.buttonText,i=(0,u.useEmailSignupContext)(),c=i.buttonClassName,d=i.loadingSpinnerClassName;return a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,null),t?a.default.createElement(s.default,{loadingSpinnerClassName:d}):a.default.createElement(o.default,{type:"button",theme:"primary",className:c,onClick:n},r))});t.default=c},pLua:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.useEmailSignupContext=t.EmailSignupProvider=t.EmailSignupContext=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),o=r(n("17x9"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}o.default.shape,o.default.node;var s=i.default.createContext({});t.EmailSignupContext=s;t.useEmailSignupContext=function(){return(0,i.useContext)(s)};var u=function(e){var t=e.value,n=e.children;return i.default.createElement(s.Provider,{value:t},n)};t.EmailSignupProvider=u,u.displayName="EmailSignupProvider"},qQ7Q:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.summaryClass=t.headingClass=t.containerClass=t.confirmationClass=t.buttonClass=void 0;var a=n("Jqp9"),i=r(n("wXC7")),o=r(n("qp0C")),l=r(n("5TEd")),s=(0,a.css)("text-align:center;font-family:",o.default.serifBase,";font-size:",o.default.size(17),";line-height:24px;",i.default.breakpoint.small,"{font-size:",o.default.size(18),";line-height:29px;}");t.containerClass=s;var u=(0,a.css)("display:block;margin:20px auto 0 auto;");t.buttonClass=u;var c=(0,a.css)("font-style:italic;a{color:",l.default.linkColor,";text-decoration:underline;}");t.confirmationClass=c;var d=(0,a.css)("font-weight:bold;");t.headingClass=d;var f=(0,a.css)("font-style:italic;");t.summaryClass=f},r7bS:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),i=(r(n("17x9")),n("aY7P")),o=function(e){var t=e.children,n=e.signupMessageClassName,r=void 0===n?i.signupMessageClass:n;return a.default.createElement("div",{className:i.signupMessageContainerClass},a.default.createElement("div",{className:r},t))};o.displayName="SignupMessageContainer",o.defaultProps={children:null,signupMessageClassName:i.signupMessageClass};var l=o;t.default=l},rLXl:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.checkHasTakenFreeTrial=void 0,t.checkToSubscribeRedirectedUser=function(e,t,n,r,i){try{var o=new URL(window.location).searchParams,s=o.get("auth");if(!(0,l.checkMatchingProductCodes)(n,o))return;s&&s.includes("register-")&&r(),"validate-regi"===s&&function(e,t,n){(0,a.loadReCaptchaScript)((function(){return c(e,t,n)}))}(e,t,i)}catch(e){console.error("Unable to subscribe the user")}},t.getFreeTrialSubscriptionParams=void 0,t.handleAutoSubscribe=function(e,t,n,r){try{var a=new URL(window.location).searchParams;if(!("true"===a.get("newsletter_signup")))return;var o=(0,l.hasNYTSCookie)();if(!(0,l.checkMatchingProductCodes)(e,a))return;o&&n(),o||t!==i.MODULE_TYPES.MODAL||r()}catch(e){console.error("Unable to auto subscribe user")}},t.isEligibleForNewsletter=void 0,t.isEligibleToSignup=s,t.onCaptchaLoadCallback=t.isFreeTrialSignup=t.isFreeTrialPeriodComplete=void 0;var a=n("tFte"),i=n("5E+G"),o=r(n("2ePO")),l=n("T25G");function s(e,t){return!e||!!t&&(Array.isArray(t)&&t.includes(e))}t.isEligibleForNewsletter=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.hasEligibleEntitlement,r=t.allowedEntitlement,a=t.user;return n||s(r,null==a||null===(e=a.userInfo)||void 0===e?void 0:e.entitlements)};var u=function(e){return!!e&&Math.floor(Date.now()/1e3)-e>i.FREE_TRIAL_PERIOD_IN_SECS};t.isFreeTrialPeriodComplete=u;t.checkHasTakenFreeTrial=function(e,t){var n=(0,o.default)(null==e?void 0:e.newsletters);if(!n[t])return!1;var r=n[t].freeTrialSignupTime;return u(r)};t.isFreeTrialSignup=function(e,t,n){return!(!e||!t)&&(Array.isArray(n)&&!n.includes(e))};t.getFreeTrialSubscriptionParams=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!1,a=n;return e&&!t&&(r=!0,a=a||Math.floor(Date.now()/1e3)),{isFreeTrial:r,freeTrialSignupTime:a}};var c=function(e,t,n){window.isCaptchaLoaded=!0;try{var r;r=(0,a.renderReCaptcha)(e,t,(function(e){var t=(0,l.getCookie)("nyt-newsletter-email");t?(n(e,t),(0,a.resetReCaptcha)(r)):console.error("Unable to find user email")}),(function(){console.error("Captcha error")})),(0,a.executeReCaptcha)(r)}catch(e){console.error("Captcha has not loaded")}};t.onCaptchaLoadCallback=c},sTKe:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getLoggedInView=t.getAppropriateLoggedInView=t.checkAlreadyReceiving=void 0,t.getLoggedOutView=o,t.getViewFromUser=function(e){var t=e.data,n=e.productCode,r=e.allowedEntitlement,a=e.onIsSignedUp,i=e.onIsNotSignedUp,l=e.type,s=(null==t?void 0:t.user)||{};if(null==s?void 0:s.profile)return u(s,{productCode:n,allowedEntitlement:r,onIsSignedUp:a,onIsNotSignedUp:i});i&&i();return o(l)};var a=n("5E+G"),i=r(n("2ePO"));function o(e){return e===a.MODULE_TYPES.MODAL?a.VIEW_NAMES.LOGGED_OUT_MODAL:a.VIEW_NAMES.LOGGED_OUT_INLINE}var l=function(e,t){var n=t.onIsSignedUp,r=t.onIsNotSignedUp;return e?(n&&n(),a.VIEW_NAMES.ALREADY_SIGNED_UP):(r&&r(),a.VIEW_NAMES.LOGGED_IN_SIGNUP)};t.getAppropriateLoggedInView=l;var s=function(e,t){var n,r,a,o=t.productCode,l=t.allowedEntitlement,s=!(null==e||null===(n=e.userInfo)||void 0===n||null===(r=n.entitlements)||void 0===r||!r.length),u=(0,i.default)(null==e||null===(a=e.newsletterSubscriptions)||void 0===a?void 0:a.newsletters)[o];return!!u&&(!l||(!!s||!(null==u||!u.isFreeTrial)))};t.checkAlreadyReceiving=s;var u=function(e,t){var n=t.productCode,r=t.allowedEntitlement,a=t.onIsSignedUp,i=t.onIsNotSignedUp,o=s(e,{productCode:n,allowedEntitlement:r});return l(o,{onIsSignedUp:a,onIsNotSignedUp:i})};t.getLoggedInView=u},sj7d:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.overlayClass=t.modalClass=t.dismissIconClass=t.dismissClass=t.bodyOpenClass=void 0;var a=n("Jqp9"),i=r(n("wXC7")),o=(0,a.css)("position:fixed;width:100%;overflow:hidden;");t.bodyOpenClass=o;var l=(0,a.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",i.default.zIndex.overlay,";background-color:rgba(0,0,0,0.5);opacity:1;");t.overlayClass=l;var s=(0,a.css)("position:fixed;top:0;left:0;right:0;bottom:0;overflow:auto;width:100%;box-shadow:none;border-radius:0;background-color:",i.default.color.white,";font-family:",i.default.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",i.default.color.black,";z-index:",i.default.zIndex.interstitialModal,";",i.default.breakpoint.small,"{width:450px;left:50%;top:50%;right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);}");t.modalClass=s;var u=(0,a.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",i.default.color.white,";");t.dismissClass=u;var c=(0,a.css)("display:block;width:15px;height:15px;");t.dismissIconClass=c},tFte:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.resetReCaptcha=t.renderReCaptcha=t.loadReCaptchaScript=t.executeReCaptcha=void 0;var a=r(n("M4W2")),i="https://www.google.com/recaptcha/api.js?onload=".concat("BFX6JY","&render=explicit");function o(e){var t,n,r,a;return null!==(t=window)&&void 0!==t&&null!==(n=t.vi)&&void 0!==n&&n.env?null===(r=window)||void 0===r||null===(a=r.vi)||void 0===a?void 0:a.env.RECAPTCHA_SITEKEY:"production"===e?"6LevSGcUAAAAAF-7fVZF05VTRiXvBDAY4vBSPaTF":"6LfW9GcUAAAAAKLqQzehfTHHdWrtQf2UcRBOgA-J"}function l(){window.isCaptchaLoaded=!0}t.loadReCaptchaScript=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;window.BFX6JY||(window.BFX6JY=e,(0,a.default)(i))};t.renderReCaptcha=function(e,t,n,r){var a,i,l;if(null!==(a=window)&&void 0!==a&&a.isCaptchaLoaded)return null===(i=window)||void 0===i||null===(l=i.grecaptcha)||void 0===l?void 0:l.render(t,{sitekey:o(e),callback:n,"error-callback":r,size:"invisible",isolated:!0,badge:"none"});throw new Error("Captcha has not loaded")};t.executeReCaptcha=function(e){var t,n;return null===(t=window)||void 0===t||null===(n=t.grecaptcha)||void 0===n?void 0:n.execute(e)};t.resetReCaptcha=function(e){var t,n;return null===(t=window)||void 0===t||null===(n=t.grecaptcha)||void 0===n?void 0:n.reset(e)}},tSrK:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("q1tI")),o=r(n("17x9")),l=n("Jqp9"),s=r(n("5ugd")),u=r(n("WkTM")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("KgTy")),d=n("pLua");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}o.default.func,o.default.bool;var p=function(e){var t=e.isOpen,n=e.handleClose,r=e.handleNewsletterSignup,a=e.handleAnonymousNewsletterSignup,o=e.validProductCode,f=(0,d.useEmailSignupContext)(),p=f.modalProps,m=f.allowedEntitlement,v=p.overlayClassName,g=p.modalClassName,y=p.dismissClassName,b=p.closeIconStroke,h=p.headerTextClassName,w=p.headerText;return i.default.createElement(s.default,{isOpen:t,handleClose:n,overlayClassName:(0,l.cx)(c.overlayClass,v),className:(0,l.cx)(c.modalClass,g),dismissClassName:(0,l.cx)(c.dismissClass,y),contentLabel:"Log in and Registration",role:"dialog",closeIconStroke:b,shouldFocusAfterRender:!0,shouldReturnFocusAfterClose:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0},!m&&i.default.createElement("span",{className:(0,l.cx)(c.summaryClass,h)},w||"Enter your information to receive this newsletter."),i.default.createElement(u.default,{hideHeading:!0,validProductCode:o,handleNewsletterSignup:r,handleAnonymousNewsletterSignup:a}))};p.displayName="ValidateRegistrationModal";var m=p;t.default=m},v6H6:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o,l=r(n("cDf5")),s=r(n("q1tI")),u=n("Jqp9"),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),d=n("T25G"),f=n("pLua");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var m="object"===("undefined"==typeof window?"undefined":(0,l.default)(window))&&null!==(i=window.vi)&&void 0!==i&&null!==(o=i.env)&&void 0!==o&&o.AUTH_HOST?window.vi.env.AUTH_HOST:"https://myaccount.nytimes.com",v=function(){var e=(0,f.useEmailSignupContext)(),t=e.allowedEntitlement,n=e.isOnsiteFreeTrialEnabled,r=e.isEligibleForNewsletter,a=e.hasTakenFreeTrial,i=e.confirmationClassName,o=(0,d.getConfirmationText)({page:"individual",allowedEntitlement:t,isOnsiteFreeTrialEnabled:n,isEligibleForNewsletter:r,hasTakenFreeTrial:a});return s.default.createElement("span",{className:(0,u.cx)(c.confirmationClass,i),"data-testid":"confirmation"},o," ",s.default.createElement("a",{href:"/newsletters"},"See our other newsletters")," or"," ",s.default.createElement("a",{href:"".concat(m,"/seg/settings")},"manage your email preferences."))};v.displayName="Confirmation";var g=v;t.default=g},"vAq/":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("q1tI")),o=n("Jqp9"),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(r,o,l):r[o]=e[o]}r.default=e,n&&n.set(e,r);return r}(n("qQ7Q")),s=n("pLua");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(){var e=(0,s.useEmailSignupContext)(),t=e.alreadySubscribedMessage,n=e.confirmationClassName;return i.default.createElement("span",{className:(0,o.cx)(l.confirmationClass,n)},t," ",i.default.createElement("a",{href:"/newsletters"},"See our other newsletters."))};c.displayName="AlreadySubscribed";var d=c;t.default=d},"w6U+":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.enableBodyScroll=t.disableBodyScroll=t.clearAllBodyScrollLocks=void 0;var a=r(n("RIqP")),i=!1;if("undefined"!=typeof window){var o={get passive(){i=!0}};window.addEventListener("testPassive",null,o),window.removeEventListener("testPassive",null,o)}var l,s,u="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),c=[],d=!1,f=-1,p=function(e){return c.some((function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))}))},m=function(e){var t=e||window.event;return!!p(t.target)||(t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1))},v=function(){setTimeout((function(){void 0!==s&&(document.body.style.paddingRight=s,s=void 0),void 0!==l&&(document.body.style.overflow=l,l=void 0)}))};t.disableBodyScroll=function(e,t){if(u){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!c.some((function(t){return t.targetElement===e}))){var n={targetElement:e,options:t||{}};c=[].concat((0,a.default)(c),[n]),e.ontouchstart=function(e){1===e.targetTouches.length&&(f=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&function(e,t){var n=e.targetTouches[0].clientY-f;!p(e.target)&&(0===(null==t?void 0:t.scrollTop)&&n>0||function(e){return!!e&&e.scrollHeight-e.scrollTop<=e.clientHeight}(t)&&n<0?m(e):e.stopPropagation())}(t,e)},d||(document.addEventListener("touchmove",m,i?{passive:!1}:void 0),d=!0)}}else{!function(e){setTimeout((function(){if(void 0===s){var t=!0==!(null==e||!e.reserveScrollBarGap),n=window.innerWidth-document.documentElement.clientWidth;t&&n>0&&(s=document.body.style.paddingRight,document.body.style.paddingRight="".concat(n,"px"))}void 0===l&&(l=document.body.style.overflow,document.body.style.overflow="hidden")}))}(t);var r={targetElement:e,options:t||{}};c=[].concat((0,a.default)(c),[r])}};t.clearAllBodyScrollLocks=function(){u?(c.forEach((function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null})),d&&(document.removeEventListener("touchmove",m,i?{passive:!1}:void 0),d=!1),c=[],f=-1):(v(),c=[])};t.enableBodyScroll=function(e){if(u){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,c=c.filter((function(t){return t.targetElement!==e})),d&&0===c.length&&(document.removeEventListener("touchmove",m,i?{passive:!1}:void 0),d=!1)}else 1===c.length&&c[0].targetElement===e?(v(),c=[]):c=c.filter((function(t){return t.targetElement!==e}))}},whae:function(e,t,n){"use strict";function r(e){try{(window.dataLayer=window.dataLayer||[]).push(e)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.trackSubscribe=t.trackInvalidNewsletterCode=t.trackImpression=t.trackIframeLoadFailure=void 0;t.trackImpression=function(e){var t=e.clientId,n=e.campaignId,a=e.productCode;r({event:"impression",module:{name:"newsletter",context:t,label:e.placement||n,region:"body|marginalia",algos:e.algos,element:{name:a}},newsletter:{product:a,productName:"Newsletter Lire"}})};t.trackSubscribe=function(e){var t=e.clientId,n=e.campaignId,a=e.productCode;r({event:"moduleInteraction",eventData:{pagetype:"article",trigger:"module",type:"click",status:"success"},module:{name:"newsletters",context:t,label:e.placement||n,region:"body|marginalia",algos:e.algos,element:{name:"subscribe",label:""}},newsletter:{product:a,productName:"Newsletter Lire"}})};t.trackInvalidNewsletterCode=function(e){r({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter code invalid",label:e.productCode,url:""}}})};t.trackIframeLoadFailure=function(e){r({event:"moduleInteraction",eventData:{type:"response",trigger:"module"},module:{name:"newsletter-shared-ui",label:e.clientId,context:e.campaignId,region:"embed",element:{name:"newsletter iframe load failure",label:"15 second timeout exceeded",url:""}}})}}}]);
//# sourceMappingURL=vendors~emailsignup~newsletter~newsletters~recirculation-e04070080e704a9ce8b6.js.map